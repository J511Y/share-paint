# SNS 기능 (Feed, Profile, Social) 구현 계획

## 개요
PaintShare의 소셜 네트워크 기능을 구현합니다. 사용자는 그린 그림을 저장 및 공유하고, 다른 사용자의 그림을 보고 상호작용(좋아요, 댓글, 팔로우)할 수 있습니다.

## 핵심 요구사항
1. **그림 저장**: 캔버스 데이터를 이미지로 변환하여 Supabase Storage에 업로드하고 DB에 메타데이터 저장
2. **프로필**: 사용자 정보, 통계, 내 그림 목록, 스크랩(좋아요) 목록 표시
3. **피드**: 최신 그림, 팔로잉하는 사용자의 그림을 무한 스크롤로 탐색
4. **상호작용**: 좋아요, 댓글, 팔로우 기능 구현 (낙관적 업데이트 적용)

---

## Phase 1: 그림 업로드 및 저장 (1주차) ✅ 완료

### 1.1 Supabase Storage 설정
- `paintings` 버킷 생성 및 정책 설정 (이미 완료됨: 002_storage_policies.sql)
- 이미지 업로드 유틸리티 함수 구현 (`uploadImage`) 완료

### 1.2 그림 저장 API & UI
- **Single Mode**: `DrawingCanvas`에 '저장/공유' 버튼 추가 및 업로드 모달 구현 완료
- **Battle Mode**: 게임 종료 시 내 그림을 갤러리에 저장하는 옵션 추가 (추후 구현)
- `POST /api/paintings` 구현 완료

---

## Phase 2: 프로필 페이지 (1.5주차) ✅ 완료

### 2.1 프로필 UI
- 경로: `/profile/[username]` 구현 완료
- 사용자 정보 (아바타, 이름, 소개) 표시 완료
- 팔로워/팔로잉 카운트 완료

### 2.2 프로필 편집
- 프로필 수정 모달 (아바타 업로드, 닉네임 변경) (추후 고도화 예정)
- `PUT /api/users/profile` (기본 구현)

### 2.3 유저 갤러리
- 탭 구분: '내 그림', '좋아요한 그림', '대결 기록' (기본 그리드 구현 완료)
- 그리드 레이아웃으로 그림 목록 표시 완료

---

## Phase 3: 피드 및 탐색 (2주차) ✅ 완료

### 3.1 메인 피드
- 경로: `/feed` 구현 완료
- 최신순/인기순 필터링 (기본 최신순 구현)
- 무한 스크롤 (Intersection Observer) 구현 (추후 고도화)

### 3.2 그림 상세 (모달/페이지)
- 그림 클릭 시 상세 보기 페이지 구현 (`/painting/[id]`) 완료
- 이미지 확대, 작가 정보, 태그 표시

---

## Phase 4: 소셜 상호작용 (2.5주차) ✅ 완료

### 4.1 좋아요 & 팔로우
- Optimistic UI 적용 (서버 응답 전 UI 즉시 반영) 완료
- `useLike`, `useFollow` 커스텀 훅 구현 완료

### 4.2 댓글 시스템
- 그림 상세 페이지 내 댓글 작성/삭제 구현 완료
- 댓글 목록 실시간 업데이트 (Supabase Realtime 고려) (기본 API 구현 완료)

---

## 기술적 고려사항
- **성능**: 이미지 최적화 (Next.js Image), 목록 가상화 (Virtualization)
- **UX**: 스켈레톤 로딩, 토스트 알림, 에러 핸들링
- **데이터**: React Query (TanStack Query) 도입 검토 (서버 상태 관리 효율화)
